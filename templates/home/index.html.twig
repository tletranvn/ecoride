{% extends 'base.html.twig' %}

{% block title %}Accueil - EcoRide{% endblock %}

{% block body %}
<div class="d-flex flex-column min-vh-100">
    <main class="container flex-grow-1 mt-5">

        <!-- Bandeau principal -->
        <div class="text-center mb-5">
            <h1 class="display-4">Bienvenue sur <strong>EcoRide</strong></h1>
            <p class="lead">Partagez vos trajets, réduisez vos émissions de CO₂, et roulez vers un avenir plus vert.</p>
        </div>

        {% if app.user %}
            <!-- Zone dynamique si connecté -->
            <div class="alert alert-success text-center">
                Bonjour {{ app.user.pseudo }} !<br>
                <a href="{{ path('app_covoiturage') }}" class="btn btn-outline-success mt-3">Voir mes trajets</a>
            </div>
        {% endif %}

        <!-- Présentation EcoRide -->
        <section class="mb-5">
            <div class="text-center mb-5">
                <p class="fs-5">
                    <strong>EcoRide</strong> est une plateforme de covoiturage éco-responsable fondée en 2025, 
                    avec pour mission de rendre les déplacements plus durables et accessibles à tous. 
                    Nous croyons en une mobilité respectueuse de l’environnement, humaine et équitable. 
                    Chaque trajet partagé est un pas de plus vers une planète plus verte et une société plus solidaire.
                </p>
            </div>
        </section>

        <!-- Section images -->
        <section class="mb-5">
            <h2 class="text-center mb-4">Notre vision en images</h2>
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <img src="/images/ecoride1.jpg" alt="Trajet partagé en nature" class="img-fluid rounded shadow-sm">
                    <p class="mt-2">Des trajets respectueux de la nature</p>
                </div>
                <div class="col-md-4 mb-4">
                    <img src="/images/ecoride2.jpg" alt="Conducteur heureux" class="img-fluid rounded shadow-sm">
                    <p class="mt-2">Des rencontres humaines</p>
                </div>
                <div class="col-md-4 mb-4">
                    <img src="/images/ecoride3.jpg" alt="Carte et économie de CO2" class="img-fluid rounded shadow-sm">
                    <p class="mt-2">Une action concrète pour la planète</p>
                </div>
            </div>
        </section>

        <!-- Formulaire de recherche -->
        <section class="mb-5">
            <h2 class="text-center mb-4">Rechercher un itinéraire</h2>
            <form action="{{ path('app_recherche_resultats') }}" method="GET" class="row g-3 justify-content-center">
                <div class="col-md-3">
                    <input type="text" name="villeDepart" list="villes" class="form-control" placeholder="Ville de départ" required>
                </div>
                <div class="col-md-3">
                    <input type="text" name="villeArrivee" list="villes" class="form-control" placeholder="Ville d’arrivée" required>
                </div>
                <div class="col-md-3">
                    <input type="date" name="date" class="form-control" required>
                </div>
                <div class="col-md-2">
                    <input type="number" name="dureeMax" class="form-control" placeholder="Durée max (min)">
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-success w-100">Rechercher</button>
                </div>

                <!-- Liste des villes suggérées -->
                <datalist id="villes">
                    <option value="Paris">
                    <option value="Lyon">
                    <option value="Marseille">
                    <option value="Toulouse">
                    <option value="Nice">
                    <option value="Nantes">
                    <option value="Strasbourg">
                    <option value="Montpellier">
                    <option value="Bordeaux">
                    <option value="Lille">
                </datalist>
            </form>
        </section>   

        <!-- Zone pour visiteurs non connectés -->
        {% if not app.user %}
            <div class="text-center mb-4">
                <p class="fs-5">Rejoignez-nous dès maintenant pour covoiturer autrement !</p>
                <a href="{{ path('app_login') }}" class="btn btn-ecoride btn-ecoride-secondary me-2">Connexion</a>
                <a href="{{ path('app_register') }}" class="btn btn-ecoride btn-ecoride-primary">Créer un compte</a>
            </div>
        {% endif %}

    </main>
</div>
{% endblock %}
